(function(){"use strict";var e={3929:function(e,t,r){var o=r(7754),n=r.n(o),a=r(6369),s=r(70),u=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],c=r(1001),l={},m=(0,c.Z)(l,u,i,!1,null,null,null),d=m.exports,f=r(2631),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("h1",[e._v("CRM管理系统")]),t("LoginCRM")],1)},p=[],g=function(){var e=this,t=e._self._c;return t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm aa",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{prop:"userName"}},[t("el-input",{attrs:{type:"text",autocomplete:"off","label-width":"20px"},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),t("el-form-item",{attrs:{prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),t("el-checkbox",{attrs:{checked:e.checked},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),t("el-form-item",[t("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)},v=[],k=(r(7658),{name:"LoginCRM",data(){var e=(e,t,r)=>{""===t?r(new Error("请输入用户名")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),r())},t=(e,t,r)=>{""===t?r(new Error("请输入密码")):r()};return{ruleForm:{userName:"",checkPass:""},checked:!1,rules:{userName:[{validator:e,trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}]}}},methods:{submitForm(e){this.checked?(localStorage.setItem("ruleForm",JSON.stringify(this.ruleForm)),localStorage.setItem("checked",this.checked),sessionStorage.setItem("userName",this.ruleForm.userName),sessionStorage.setItem("checkPass",this.ruleForm.checkPass)):(localStorage.removeItem("ruleForm"),localStorage.removeItem("checked"),sessionStorage.setItem("userName",this.ruleForm.userName),sessionStorage.setItem("checkPass",this.ruleForm.checkPass)),this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.$message({message:`欢迎登录CRM管理系统,${this.ruleForm.userName}`,type:"success"}),this.$router.push({path:"/crm",query:{userName:this.ruleForm.userName,checkPass:this.ruleForm.checkPass}})}))}},beforeMount(){localStorage.getItem("checked")&&JSON.parse(localStorage.getItem("ruleForm"))&&(this.checked=!!localStorage.getItem("checked"),this.ruleForm=JSON.parse(localStorage.getItem("ruleForm")))}}),b=k,y=(0,c.Z)(b,g,v,!1,null,"48de29d9",null),F=y.exports,S={name:"LoginView",components:{LoginCRM:F}},N=S,w=(0,c.Z)(N,h,p,!1,null,"3e7d340a",null),P=w.exports;a["default"].use(f.ZP);const O=[{path:"*",name:"login",component:P},{path:"/",name:"login",component:P},{path:"/crm",name:"CRM",component:()=>r.e(901).then(r.bind(r,6901)),children:[{path:"user",name:"user",component:()=>r.e(899).then(r.bind(r,8899))},{path:"teacher",name:"teacher",component:()=>r.e(964).then(r.bind(r,7964))},{path:"role",name:"role",component:()=>r.e(193).then(r.bind(r,1193))}]}],C=new f.ZP({mode:"hash",base:"",routes:O});C.beforeEach(((e,t,r)=>{"/"===e.path||"admin"===sessionStorage.getItem("userName")&&"123"===sessionStorage.getItem("checkPass")?r():(alert("用户名或密码错误"),r("/"))}));var _=C,x=r(3822);a["default"].use(x.ZP);var E=new x.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),I=r(7634),j=r.n(I);r(541);const T={username:"admin",password:"123"};j().mock("/api/user/login","post",(e=>{let{username:t,password:r}=JSON.parse(e.body);return t===T.username&&r===T.password?j().mock({code:1,message:"登录成功"}):j().mock({code:-1,message:"用户名或者密码错误"})})),j().mock("/api/user/logout","get",(()=>j().mock({code:1,message:"退出登录成功"})));var M=[];function A(){for(let e=0;e<56;e++)M.push(j().mock({id:"@increment()",name:"@cname",sex:"@natural(0,1)",age:"@natural(0,100)",birthday:"@date()",address:"@county(true)"}))}A(),j().mock("/api/user/list","post",(e=>{let{name:t,pageno:r,pagesize:o}=JSON.parse(e.body),n=M.filter((e=>e.name.indexOf(t)>-1)),a=(r-1)*o,s=a+o,u=n.slice(a,s);return{total:n.length,code:1,list:u}})),j().mock(/\/api\/user\/del/,"get",(e=>{let t=e.url.split("=")[1];return M.forEach(((e,r)=>{e.id==t&&M.splice(r,1)})),{code:1,message:"删除数据成功"}})),j().mock("/api/user/batchdel","post",(e=>{let t=JSON.parse(e.body).ids;console.log("ids:",t);for(let r=0;r<t.length;r++)for(let e=M.length-1;e>=0;e--)if(t[r]==M[e].id){M.splice(e,1);break}return{code:1,message:"批量删除成功"}})),j().mock("/api/user/add","post",(e=>{let t=JSON.parse(e.body);return t.id=M.length+1,M.unshift(t),{code:1,message:"添加用户成功"}})),j().mock("/api/user/update","post",(e=>{let t=JSON.parse(e.body);return M.forEach(((e,r)=>{e.id===t.id&&(M[r]=t)})),{code:1,message:"用户修改成功"}})),j().mock("/api/stat/line","get",(()=>j().mock({code:1,days:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],"count|7":["@natural(800,1500)"],"count1|7":["@natural(400,1000)"]}))),j().mock("/api/stat/pie","get",(()=>j().mock({code:1,"title|5":["@ctitle(3,6)"],"list|5":[{value:"@natural(100,1600)"}]}))),j().setup({timeout:"50-300"}),a["default"].use(n()),a["default"].config.productionTip=!1,a["default"].prototype.$http=s.Z,new a["default"]({router:_,store:E,render:e=>e(d)}).$mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,a){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],n=e[l][1],a=e[l][2];for(var u=!0,i=0;i<o.length;i++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[i])}))?o.splice(i--,1):(u=!1,a<s&&(s=a));if(u){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[o,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,o){return r.f[o](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{193:"ab91028d",899:"228f257a",901:"7046ab6f",964:"11f73fb3"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{899:"60288de1",901:"1e55849f"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="crm_malu:";r.l=function(o,n,a,s){if(e[o])e[o].push(n);else{var u,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var m=c[l];if(m.getAttribute("src")==o||m.getAttribute("data-webpack")==t+a){u=m;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.setAttribute("data-webpack",t+a),u.src=o),e[o]=[n];var d=function(t,r){u.onerror=u.onload=null,clearTimeout(f);var n=e[o];if(delete e[o],u.parentNode&&u.parentNode.removeChild(u),n&&n.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){r.p=""}(),function(){var e=function(e,t,r,o){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var a=function(a){if(n.onerror=n.onload=null,"load"===a.type)r();else{var s=a&&("load"===a.type?"missing":a.type),u=a&&a.target&&a.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=s,i.request=u,n.parentNode.removeChild(n),o(i)}};return n.onerror=n.onload=a,n.href=t,document.head.appendChild(n),n},t=function(e,t){for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var n=r[o],a=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===t))return n}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){n=s[o],a=n.getAttribute("data-href");if(a===e||a===t)return n}},o=function(o){return new Promise((function(n,a){var s=r.miniCssF(o),u=r.p+s;if(t(s,u))return n();e(o,u,n,a)}))},n={143:0};r.f.miniCss=function(e,t){var r={899:1,901:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=o(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}(),function(){var e={143:0};r.f.j=function(t,o){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise((function(r,o){n=e[t]=[r,o]}));o.push(n[2]=a);var s=r.p+r.u(t),u=new Error,i=function(o){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,n[1](u)}};r.l(s,i,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,s=o[0],u=o[1],i=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in u)r.o(u,n)&&(r.m[n]=u[n]);if(i)var l=i(r)}for(t&&t(o);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},o=self["webpackChunkcrm_malu"]=self["webpackChunkcrm_malu"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(3929)}));o=r.O(o)})();
//# sourceMappingURL=app.1ecfc95f.js.map